<!DOCTYPE html>
<html lang="fr"><head>
<script src="MATH60604-diapos5a_files/libs/clipboard/clipboard.min.js"></script>
<script src="MATH60604-diapos5a_files/libs/quarto-html/tabby.min.js"></script>
<script src="MATH60604-diapos5a_files/libs/quarto-html/popper.min.js"></script>
<script src="MATH60604-diapos5a_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="MATH60604-diapos5a_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="MATH60604-diapos5a_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="MATH60604-diapos5a_files/libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="MATH60604-diapos5a_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.5.56">

  <meta name="author" content="Léo Belzile, HEC Montréal">
  <meta name="dcterms.date" content="2024-01-01">
  <title>Modélisation statistique</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="MATH60604-diapos5a_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="MATH60604-diapos5a_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; font-weight: bold; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
    /* CSS for citations */
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
      margin-bottom: 0em;
    }
    .hanging-indent div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }  </style>
  <link rel="stylesheet" href="MATH60604-diapos5a_files/libs/revealjs/dist/theme/quarto.css">
  <link href="MATH60604-diapos5a_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="MATH60604-diapos5a_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="MATH60604-diapos5a_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="MATH60604-diapos5a_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-titled.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-titled) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-titled.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-titled .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-titled .callout-title  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-titled.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-titled.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-title {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-title {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-title {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-titled .callout-body > .callout-content > :last-child {
    padding-bottom: 0.5rem;
    margin-bottom: 0;
  }

  .callout.callout-titled .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-titled) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-title {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-title {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-title {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-title {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-title {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
  <script src="MATH60604-diapos5a_files/libs/kePrint-0.0.1/kePrint.js"></script>
  <link href="MATH60604-diapos5a_files/libs/lightable-0.0.1/lightable.css" rel="stylesheet">
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" data-background-color="#002855" class="quarto-title-block center">
  <h1 class="title">Modélisation statistique</h1>
  <p class="subtitle">05. Modèles linéaires</p>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Léo Belzile, HEC Montréal 
</div>
</div>
</div>

  <p class="date">2024</p>
</section>
<section id="interaction" class="slide level2">
<h2>Interaction</h2>
<p>On parle d’<strong>interaction</strong> lorsque des combinaisons de variables explicatives affectent la variable réponse différemment que lorsqu’elles sont considérées individuellement.</p>
<p>Si <span class="math inline">\(X_j\)</span> et <span class="math inline">\(X_k\)</span> interagissent, l’effet marginal de <span class="math inline">\(\mathsf{E}(Y \mid \boldsymbol{X})\)</span> par rapport à <span class="math inline">\(X_j\)</span> est une fonction de <span class="math inline">\(X_k\)</span>, et vice-versa.</p>
<p>On s’attarde au cas où au moins une des variables est catégorielle (facteur).</p>
</section>
<section id="primes-dassurance" class="slide level2">
<h2>Primes d’assurance</h2>
<p>Les fumeurs dont l’indice de masse corporelle (IMC) est égal ou supérieur à 30 paient une prime élevée, mais il semble que le montant de la prime augmente de façon linéaire en fonction de l’IMC. Cette tarification ne semble pas s’appliquer aux non-fumeurs.</p>

<img data-src="MATH60604-diapos5a_files/figure-revealjs/fig-insuranceinter1-1.png" class="quarto-figure quarto-figure-center r-stretch" width="960"><p class="caption">
Figure&nbsp;1: Nuage de points des données <code>assurance</code> avec les frais en fonction de l’<code>imc</code>, selon le status <code>fumeur</code>.
</p></section>
<section id="interaction-entre-variables-continue-et-catégorielle" class="slide level2">
<h2>Interaction entre variables continue et catégorielle</h2>
<p>On considère un exemple avec des données bidons <code>interaction</code>. Le modèle additif (sans interaction) a pour moyenne <span class="math display">\[\begin{align*}
\mathsf{E}(\texttt{intention} \mid \cdot)=\beta_0 + \beta_1 \texttt{sexe} + \beta_2 \texttt{fixation},
\end{align*}\]</span> où <span class="math inline">\(\texttt{sexe=1}\)</span> pour les femmes et <span class="math inline">\(\texttt{sexe=0}\)</span> pour les hommes</p>
<p>L’effet de la variable continue <code>fixation</code> est identique pour les deux sexes.</p>
<p>Pour ajuster une pente différente par sexe, on crée une nouvelle variable égale au produit <span class="math inline">\(\texttt{fixation}\times\texttt{sexe}\)</span> et on l’ajoute à notre modèle, <span class="math display">\[\begin{align*}
\mathsf{E}(\texttt{intention} \mid \cdot)= \beta_0 + \beta_1 \texttt{sexe} + \beta_2\texttt{fixation}  + \beta_3 \texttt{fixation}\cdot \texttt{sexe}.
\end{align*}\]</span></p>
</section>
<section id="interaction-ou-pas" class="slide level2">
<h2>Interaction ou pas?</h2>

<img data-src="MATH60604-diapos5a_files/figure-revealjs/fig-interaction-slope-1.png" width="960" class="r-stretch quarto-figure-center"><p class="caption">
Figure&nbsp;2: Nuages de points et droites ajustées pour un modèle sans interaction (gauche) et avec interaction (droite).
</p></section>
<section id="interprétation-des-paramètres" class="slide level2">
<h2>Interprétation des paramètres</h2>
<p>Selon la valeur de <span class="math inline">\(\texttt{sexe}\)</span>, on obtient <span class="math display">\[\begin{align*}
\mathsf{E}(\texttt{intention} \mid \cdot) =
\begin{cases}
(\beta_0 + \beta_1) + (\beta_2 + \beta_3)\texttt{fixation}, &amp; \texttt{sexe}=1 \text{ (femme)},\\
  \beta_0 + \beta_2 \texttt{fixation}, &amp; \texttt{sexe}=0 \text{ (homme)}.
\end{cases}
\end{align*}\]</span> L’interprétation des coefficients du modèle se fait comme d’habitude avec la paramétrisation (traitement):</p>
<ul>
<li><span class="math inline">\(\beta_0\)</span> est l’intention d’achat moyenne lorsque le temps de fixation est nul pour les hommes,</li>
<li><span class="math inline">\(\beta_1\)</span> est la différence d’ordonnée à l’origine entre les femmes et les hommes,</li>
<li><span class="math inline">\(\beta_2\)</span> est l’augmentation unitaire de l’intention d’achat par seconde de fixation pour les hommes,</li>
<li><span class="math inline">\(\beta_3\)</span> est la différence de pente entre les femmes et les hommes.</li>
</ul>
</section>
<section id="tester-pour-une-interaction" class="slide level2">
<h2>Tester pour une interaction</h2>
<p>Tester la significativité de l’interaction revient à vérifier si <span class="math inline">\(\mathscr{H}_0: \beta_3=0\)</span>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href=""></a><span class="fu">data</span>(interaction, <span class="at">package =</span> <span class="st">"hecmodstat"</span>)</span>
<span id="cb1-2"><a href=""></a><span class="co"># Pour spécifier une interaction, utiliser :</span></span>
<span id="cb1-3"><a href=""></a>mod <span class="ot">&lt;-</span> <span class="fu">lm</span>(intention <span class="sc">~</span> sexe <span class="sc">+</span> fixation <span class="sc">+</span>  sexe<span class="sc">:</span>fixation, </span>
<span id="cb1-4"><a href=""></a>          <span class="at">data =</span> interaction)</span>
<span id="cb1-5"><a href=""></a><span class="co"># Un raccourci est sexe*fixation, qui donne la même chose</span></span>
<span id="cb1-6"><a href=""></a><span class="fu">summary</span>(mod)<span class="sc">$</span>coefficients</span>
<span id="cb1-7"><a href=""></a><span class="do">##               Estimate Std. Error t value Pr(&gt;|t|)</span></span>
<span id="cb1-8"><a href=""></a><span class="do">## (Intercept)        2.7       0.28     9.7  1.0e-16</span></span>
<span id="cb1-9"><a href=""></a><span class="do">## sexe               1.3       0.38     3.5  7.7e-04</span></span>
<span id="cb1-10"><a href=""></a><span class="do">## fixation           0.5       0.15     3.3  1.3e-03</span></span>
<span id="cb1-11"><a href=""></a><span class="do">## sexe:fixation      2.1       0.20    10.7  5.6e-19</span></span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Le modèle avec interaction est significativement meilleur, ce qui signifie que l’effet du temps de fixation sur l’intention d’achat varie en fonction du sexe.</p>
</section>
<section id="principe-de-marginalité" class="slide level2">
<h2>Principe de marginalité</h2>
<p>Tous les termes d’ordre inférieurs devraient être inclus si l’interaction est présente.</p>
<p>Par exemple, on ne retirera pas <span class="math inline">\(\texttt{fixation}\)</span> tout en conservant le terme d’interaction <span class="math inline">\(\texttt{fixation*sexe}\)</span>, même si on ne rejette pas <span class="math inline">\(\mathscr{H}_0:\beta_2=0\)</span>, puisqu’autrement <span class="math display">\[\begin{align*}
&amp;\mathsf{E}(\texttt{intention} \mid \cdot) =
\begin{cases}
(\beta_0 + \beta_1) + \beta_3\texttt{fixation}, &amp; \texttt{sexe}=1 \text{ (femme)},\\
  \beta_0, &amp;\texttt{sexe}=0 \text{ (homme)};                 
\end{cases}
\end{align*}\]</span> cela implique que l’intention d’achat est constante pour les hommes, quel que soit le temps de fixation.</p>
<p>Comme le choix de catégorie de référence est arbitraire, changer la variable indicatrice pour <span class="math inline">\(\texttt{0}\)</span> pour les femmes, <span class="math inline">\(\texttt{1}\)</span> pour les hommes, donnerait un autre modèle et potentiellement des inférences différentes.</p>
</section>
<section id="interaction-catégoriel-vs-catégoriel" class="slide level2">
<h2>Interaction catégoriel vs catégoriel</h2>
<p>Considérons un modèle linéaire avec les facteurs <span class="math inline">\(A\)</span>, <span class="math inline">\(B\)</span> et leur interaction. C’est un modèle d’<strong>analyse de variance</strong> à deux facteurs, dans lequel chaque sous-groupe <span class="math inline">\((a_i, b_j)\)</span> a sa propre moyenne <span class="math inline">\(\mu_{ij}\)</span>. Par exemple, si <span class="math inline">\(A\)</span> a <span class="math inline">\(n_a=3\)</span> niveaux et <span class="math inline">\(B\)</span> a <span class="math inline">\(n_b=2\)</span> niveaux.</p>
<table class="caption-top">
<thead>
<tr class="header">
<th><span class="math inline">\(\qquad B\)</span><br> <span class="math inline">\(A\)</span> <span class="math inline">\(\qquad\)</span></th>
<th style="text-align: center;"><span class="math inline">\(b_1\)</span></th>
<th style="text-align: center;"><span class="math inline">\(b_2\)</span></th>
<th style="text-align: center;"><span class="math inline">\(\text{ligne}\)</span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><span class="math inline">\(a_1\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\mu_{11}\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\mu_{12}\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\mu_{1.}\)</span></td>
</tr>
<tr class="even">
<td><span class="math inline">\(a_2\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\mu_{21}\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\mu_{22}\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\mu_{2.}\)</span></td>
</tr>
<tr class="odd">
<td><span class="math inline">\(a_3\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\mu_{31}\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\mu_{32}\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\mu_{3.}\)</span></td>
</tr>
<tr class="even">
<td><span class="math inline">\(\text{colonne}\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\mu_{.1}\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\mu_{.2}\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\mu\)</span></td>
</tr>
</tbody>
</table>
<ul>
<li>Les estimations empiriques des cellules sont obtenues en remplaçant <span class="math inline">\(\mu_{ij}\)</span> par la moyenne des sous-groupes.</li>
<li>Les moyennes de lignes <span class="math inline">\(\mu_{i.}\)</span>, de colonnes <span class="math inline">\(\mu_{.j}\)</span> et globale <span class="math inline">\(\mu\)</span> sont les moyennes <strong>équipondérées</strong> des éléments des cellules <span class="math inline">\(\mu_{ij}\)</span>.</li>
</ul>
</section>
<section id="exemple-1---perception-dun-emprunt" class="slide level2">
<h2>Exemple 1 - perception d’un emprunt</h2>
<p><span class="citation" data-cites="Sharma.Tully.Cryder:2021">Sharma, Tully, et Cryder (<a href="#/références" role="doc-biblioref" onclick="">2021</a>)</span> ajuste un modèle factoriel 2 par 2 inter-sujets (ANOVA à deux facteurs) en variant</p>
<ul>
<li>le type de dette (<code>debttype</code>), selon que l’argent est un prêt (<code>loan</code>) ou un crédit (<code>credit</code>)</li>
<li>le type d’achat auquel l’argent sert, soit dépense discrétionnaire (<code>discretionary</code>) ou pour des besoins essentiels (<code>need</code>).</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href=""></a><span class="fu">data</span>(STC21_SS5, <span class="at">package =</span> <span class="st">"hecedsm"</span>)</span>
<span id="cb2-2"><a href=""></a>mod1 <span class="ot">&lt;-</span> <span class="fu">lm</span>(likelihood <span class="sc">~</span> purchase <span class="sc">*</span> debttype, <span class="at">data =</span> STC21_SS5)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>La variable réponse est la vraisemblance moyenne, mesurée à l’échelle d’une échelle de Likert à 9 points allant de 1 à 9.</p>
</section>
<section id="exemple-2---perception-dappropriation-culturelle-par-idéologie-politique" class="slide level2">
<h2>Exemple 2 - perception d’appropriation culturelle par idéologie politique</h2>
<p>On considère un modèle d’ANOVA à trois facteurs de <span class="citation" data-cites="Lin.Kim.Uduehi.Keinan:2024">Lin et al. (<a href="#/références" role="doc-biblioref" onclick="">2024</a>)</span>. Leur étude 4 s’intéresse à l’appropriation culturelle pour une recette de <em>soul food</em>, un courant afro-américain, parue dans le livre du “Chef Dax”.</p>
<p>Les auteurs manipulent l’ethnicité du chef, afro-Américain ou pas, et la façon dont la recette a été obtenue (furtivement, en demandant la permission ou sans mention dans le cas du groupe contrôle).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href=""></a><span class="fu">data</span>(LKUK24_S4, <span class="at">package =</span> <span class="st">"hecedsm"</span>)</span>
<span id="cb3-2"><a href=""></a>mod <span class="ot">&lt;-</span> <span class="fu">lm</span>(appropriation <span class="sc">~</span> politideo <span class="sc">*</span> chefdax <span class="sc">*</span> brandaction,</span>
<span id="cb3-3"><a href=""></a>   <span class="at">data =</span> LKUK24_S4)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Les auteurs ont postulé que la perception de l’appropriation varie selon l’idéologie politique. L’étude utilise un devis expérimental <span class="math inline">\(3 \times 2 \times 2\)</span>.</p>
</section>
<section id="diagramme-des-interactions" class="slide level2">
<h2>Diagramme des interactions</h2>
<p>Le diagramme des interactions présente les moyennes des sous-groupes (avec intervalles de confiance) en fonction des facteurs. Si les lignes sont parallèles, il n’y a pas d’interaction.</p>

<img data-src="MATH60604-diapos5a_files/figure-revealjs/fig-2by2-interaction-plot-1.png" style="width:100.0%" class="r-stretch quarto-figure-center"><p class="caption">
Figure&nbsp;3: Diagramme d’interactions pour un devis 2 par 2. Image adaptée de la Figure 10.2 de Crump, Navarro et Suzuki (2019) par Matthew Crump (CC BY-SA 4.0 license)
</p></section>
<section id="moyennes-de-cellules-pour-2-par-2" class="slide level2">
<h2>Moyennes de cellules pour 2 par 2</h2>
<p>Les scénarios sont les mêmes que sur la diapositive précédente</p>

<img data-src="MATH60604-diapos5a_files/figure-revealjs/tbl-2by2-interaction-1.png" style="width:70.0%" class="r-stretch quarto-figure-center"><p class="caption">
Table&nbsp;1: Moyennes de sous-groupes pour les combinaisons dans un devis 2 par 2.
</p></section>
<section id="diagramme-dinteraction-pour-lexemple-1" class="slide level2">
<h2>Diagramme d’interaction pour l’exemple 1</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p>L’étude supplémentaire 5 de <span class="citation" data-cites="Sharma.Tully.Cryder:2021">Sharma, Tully, et Cryder (<a href="#/références" role="doc-biblioref" onclick="">2021</a>)</span> est une ANOVA inter-sujets <span class="math inline">\(2 \times 2\)</span> (sans mesure répété par individu), avec facteurs</p>
<ul>
<li>type de dette (<code>debttype</code>), soit prêt (<code>loan</code>) ou crédit (<code>credit</code>)</li>
<li>type d’achat (<code>purchase</code>), soit discrétionnaire (<code>discretionary</code>) ou pas (<code>need</code>)</li>
</ul>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="MATH60604-diapos5a_files/figure-revealjs/unnamed-chunk-9-1.png" style="width:100.0%"></p>
</figure>
</div>
</div>
</div>
<p>Aucune preuve visuelle d’une interaction</p>
</div></div>
</section>
<section id="diagramme-dinteraction-pour-lexemple-2" class="slide level2">
<h2>Diagramme d’interaction pour l’exemple 2</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p>L’étude 4 de <span class="citation" data-cites="Lin.Kim.Uduehi.Keinan:2024">Lin et al. (<a href="#/références" role="doc-biblioref" onclick="">2024</a>)</span> utilise un devis <span class="math inline">\(3 \times 2 \times 2\)</span> inter-sujet pour étudier la perception d’’appropriation culturelle, avec</p>
<ul>
<li>L’ethnicité du <code>chefdax</code>: soit noir (<code>black</code>) ou pas (<code>not black</code>).</li>
<li>l’idéologie politique, <code>politideo</code>: soit <code>conservative</code> ou <code>liberal</code></li>
<li>la façon dont les recettes ont été obtenues (<code>brandaction</code>): furtivement, avec la permission, ou sans mention (groupe contrôle).</li>
</ul>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="MATH60604-diapos5a_files/figure-revealjs/unnamed-chunk-10-1.png" style="width:100.0%"></p>
</figure>
</div>
</div>
</div>
<p>Interaction entre <code>chefdax</code> (ethnicité) et <code>ideology</code>.</p>
</div></div>
</section>
<section id="tableau-danalyse-de-variance" class="slide level2">
<h2>Tableau d’analyse de variance</h2>
<p>Le modèle d’analyse de variance compare les modèles avec (ou sans) <span class="math inline">\(A\)</span>, <span class="math inline">\(B\)</span>, et l’interaction <span class="math inline">\(AB\)</span>.</p>
<p>Si l’échantillon est <strong>balancé</strong> (même nombre d’observations pour chaque sous-groupe), il existe une décomposition unique de la variabilité</p>
<p><span class="math display">\[\underset{\text{total}}{\mathsf{SC}_{c}} = \underset{\text{facteu $A$}}{\mathsf{SC}_A} + \underset{\text{facteur $B$}}{\mathsf{SC}_B} + \underset{\text{interaction}}{\mathsf{SC}_{AB}} + \underset{\text{résidus}}{\mathsf{SC}_e}\]</span> Ainsi,</p>
<ul>
<li>un modèle sans <span class="math inline">\(AB\)</span> aurait pour somme du carré des résidus <span class="math inline">\(\mathsf{SC}_{AB} + \mathsf{SC}_e\)</span>, avec <span class="math inline">\(n_a-1\)</span> paramètres en moins.</li>
<li>un modèle sans <span class="math inline">\(A\)</span> (seulement le facteur <span class="math inline">\(B\)</span>) aurait pour somme du carré des résidus de <span class="math inline">\(\mathsf{SC}_{A} + \mathsf{SC}_{AB} + \mathsf{SC}_e\)</span>, versus <span class="math inline">\(\mathsf{SC}_{AB} + \mathsf{SC}_e\)</span> sous l’alternative.</li>
<li>la différence dans la somme des carrés est <span class="math inline">\(\mathsf{SC}_A\)</span> pour <span class="math inline">\(A\)</span>, <span class="math inline">\(\mathsf{SC}_{AB}\)</span> pour l’interaction <span class="math inline">\(A \times B\)</span>, etc.</li>
</ul>
</section>
<section id="statistiques-de-test-pour-anova" class="slide level2">
<h2>Statistiques de test pour ANOVA</h2>
<p>Si le modèle alternatif a <span class="math inline">\(n_an_b\)</span> paramètres pour la moyenne, et que nous imposons <span class="math inline">\(n_a-1\)</span> restrictions linéaires sous l’hypothèse nulle au modèle estimé sur la base de <span class="math inline">\(n\)</span> observations indépendantes, la statistique de test <span class="math inline">\(F\)</span> est <span class="math display">\[\begin{align*}
F = \frac{\mathsf{SC}_A/(n_a-1)}{\mathsf{SC}_{e}/ (n-n_an_b)}
\end{align*}\]</span></p>
<ul>
<li>Le numérateur est la différence de sommes des carrés, notée <span class="math inline">\(\mathsf{SC}_A\)</span>, entre les modèles ajustés selon <span class="math inline">\(\mathscr{H}_0\)</span> et <span class="math inline">\(\mathscr{H}_a\)</span>, divisée par les degrés de liberté <span class="math inline">\(n_a-1\)</span> (différence du nombre de paramètres).</li>
<li>Le dénominateur est <span class="math inline">\(S^2\)</span>, l’estimateur sans biais de la variance.</li>
</ul>
</section>
<section id="tableau-danalyse-de-variance-1" class="slide level2">
<h2>Tableau d’analyse de variance</h2>
<table class="caption-top">
<colgroup>
<col style="width: 21%">
<col style="width: 28%">
<col style="width: 21%">
<col style="width: 28%">
</colgroup>
<thead>
<tr class="header">
<th>terme</th>
<th>degrés de liberté</th>
<th>carrés moyens</th>
<th><span class="math inline">\(F\)</span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><span class="math inline">\(A\)</span></td>
<td><span class="math inline">\(n_a-1\)</span></td>
<td><span class="math inline">\(\mathsf{MS}_{A}=\mathsf{SC}_A/(n_a-1)\)</span></td>
<td><span class="math inline">\(\mathsf{MS}_{A}/\mathsf{MS}_{\text{res}}\)</span></td>
</tr>
<tr class="even">
<td><span class="math inline">\(B\)</span></td>
<td><span class="math inline">\(n_b-1\)</span></td>
<td><span class="math inline">\(\mathsf{MS}_{B}=\mathsf{SC}_B/(n_b-1)\)</span></td>
<td><span class="math inline">\(\mathsf{MS}_{B}/\mathsf{MS}_{\text{res}}\)</span></td>
</tr>
<tr class="odd">
<td><span class="math inline">\(AB\)</span></td>
<td><span class="math inline">\((n_a-1)(n_b-1)\)</span></td>
<td><span class="math inline">\(\mathsf{MS}_{AB}=\mathsf{SC}_{AB}/\{(n_a-1)(n_b-1)\}\)</span></td>
<td><span class="math inline">\(\mathsf{MS}_{AB}/\mathsf{MS}_{\text{res}}\)</span></td>
</tr>
<tr class="even">
<td>résidus</td>
<td><span class="math inline">\(n-n_an_b\)</span></td>
<td><span class="math inline">\(\mathsf{MS}_{\text{res}}=\mathsf{SC}_{e}/ (n-ab)\)</span></td>
<td></td>
</tr>
<tr class="odd">
<td>total</td>
<td><span class="math inline">\(n-1\)</span></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p><em>Lire le tableau de bas en haut (en débutant avec l’interaction).</em></p>
</section>
<section id="comparaison-de-modèles-emboîtés-avec-des-données-débalancées" class="slide level2">
<h2>Comparaison de modèles emboîtés avec des données débalancées</h2>
<p>Selon la décomposition, on compare des modèles différents!</p>
<div class="cell">
<div id="tbl-ssdecompo" class="cell quarto-float quarto-figure quarto-figure-center">
<figure class="quarto-float quarto-float-tbl">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-ssdecompo-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;2: Décomposition de la somme des carrés dans les tableaux d’ANOVA (termes de l’hypothèse nulle vs l’alternative).
</figcaption>
<div aria-describedby="tbl-ssdecompo-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<table class="do-not-create-environment cell caption-top">
<colgroup>
<col style="width: 20%">
<col style="width: 25%">
<col style="width: 25%">
<col style="width: 28%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: left;">type I</th>
<th style="text-align: left;">type II</th>
<th style="text-align: left;">type III</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(\boldsymbol{A}\)</span></td>
<td style="text-align: left;">intercept vs <span class="math inline">\(A\)</span></td>
<td style="text-align: left;"><span class="math inline">\(B\)</span> vs <span class="math inline">\((A,B)\)</span></td>
<td style="text-align: left;"><span class="math inline">\((B, AB)\)</span> vs <span class="math inline">\((A,B, AB)\)</span></td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">\(\boldsymbol{B}\)</span></td>
<td style="text-align: left;"><span class="math inline">\(A\)</span> vs <span class="math inline">\((A,B)\)</span></td>
<td style="text-align: left;"><span class="math inline">\(A\)</span> vs <span class="math inline">\((A,B)\)</span></td>
<td style="text-align: left;"><span class="math inline">\((A, AB)\)</span> vs <span class="math inline">\((A,B,AB)\)</span></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(\boldsymbol{AB}\)</span></td>
<td style="text-align: left;"><span class="math inline">\((A,B)\)</span> vs <span class="math inline">\((A,B,AB)\)</span></td>
<td style="text-align: left;"><span class="math inline">\((A,B)\)</span> vs <span class="math inline">\((A,B,AB)\)</span></td>
<td style="text-align: left;"><span class="math inline">\((A,B)\)</span> vs <span class="math inline">\((A,B,AB)\)</span></td>
</tr>
</tbody>
</table>
</div>
</div>
</figure>
</div>
</div>
<p>Utilisez la décomposition type 2 de la somme des carrés par défaut (avec <code>car::Anova</code>). La décomposition de type 1 (<code>anova</code>) dépend de l’ordre des termes, tandis que le type 3 ne respecte pas le principe de marginalité.</p>
</section>
<section id="modèle-pour-lexemple-1" class="slide level2">
<h2>Modèle pour l’exemple 1</h2>
<p>La moyenne du modèle linéaire avec interaction (paramétrisation en terme de traitements) est <span class="math display">\[\begin{align*}
\mathsf{E}(\texttt{likelihood} \mid \cdot) &amp;= \beta_0 + \beta_1\mathbf{1}_{\texttt{purchase=need}} + \beta_2\mathbf{1}_{\texttt{debttype=loan}} \\&amp;\quad+ \beta_3\mathbf{1}_{\texttt{purchase=need}}\mathbf{1}_{\texttt{debttype=loan}}
\end{align*}\]</span></p>
<p>On peut calculer la moyenne de chaque groupe et déduire l’interprétation des coefficients:</p>
<ul>
<li><span class="math inline">\(\mu_1 = \beta_0\)</span> pour <code>purchase=discretionnary</code> et <code>debttype=credit</code></li>
<li><span class="math inline">\(\mu_2 = \beta_0 + \beta_1\)</span> pour <code>purchase=need</code> et <code>debttype=credit</code></li>
<li><span class="math inline">\(\mu_1 = \beta_0 + \beta_2\)</span> pour <code>purchase=discretionnary</code> et <code>debttype=loan</code></li>
<li><span class="math inline">\(\mu_2 = \beta_0 + \beta_1 + \beta_2 + \beta_3\)</span> pour <code>purchase=need</code> et <code>debttype=loan</code></li>
</ul>
<p>Ainsi, <span class="math inline">\(\beta_3\)</span> représente la différence des moyennes <span class="math inline">\(\mu_1 + \mu_4 - \mu_2 - \mu_3\)</span>. <!--
## Modèle additif

The **additive** model with the treatment contrast parametrization has $1 + (n_a-1) + (n_b-1)$ parameters, with $$\mathsf{E}(Y \mid A=a_i, B=b_j) = \mu+ \alpha_i + \beta_j.$$ 
We need a suitable constraint on $\alpha$ and $\beta$, e.g., $\alpha_1=0$ (treatment contrast) or $\sum_{i=1}^{n_a}\alpha_i=0$ (sum-to-zero constraint).

The last line of the ANOVA table with the $F$-statistics gives the $p$-value for the test comparing the model with and without the interaction term.
--></p>
</section>
<section id="ajustement-de-lanova-et-moyennes-de-groupes" class="slide level2">
<h2>Ajustement de l’ANOVA et moyennes de groupes</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href=""></a><span class="co"># Données de l'étude supp. 5</span></span>
<span id="cb4-2"><a href=""></a><span class="co"># de Sharma, Tully, et Cryder (2021)</span></span>
<span id="cb4-3"><a href=""></a><span class="fu">data</span>(STC21_SS5, <span class="at">package =</span> <span class="st">"hecedsm"</span>)</span>
<span id="cb4-4"><a href=""></a><span class="co"># La fonction 'aov' sert à ajuste des ANOVA</span></span>
<span id="cb4-5"><a href=""></a><span class="co"># Équivalent à "lm" avec variables catégorielles, contrasts somme nulle</span></span>
<span id="cb4-6"><a href=""></a>mod1 <span class="ot">&lt;-</span> <span class="fu">aov</span>(likelihood <span class="sc">~</span> purchase<span class="sc">*</span>debttype, </span>
<span id="cb4-7"><a href=""></a>           <span class="at">data =</span> STC21_SS5)</span>
<span id="cb4-8"><a href=""></a><span class="co"># Calculer le décompte par sous-catégorie (données débalancées)</span></span>
<span id="cb4-9"><a href=""></a><span class="fu">xtabs</span>(<span class="sc">~</span>purchase <span class="sc">+</span> debttype, <span class="at">data =</span> STC21_SS5)</span>
<span id="cb4-10"><a href=""></a><span class="do">##                debttype</span></span>
<span id="cb4-11"><a href=""></a><span class="do">## purchase        credit loan</span></span>
<span id="cb4-12"><a href=""></a><span class="do">##   discretionary    392  359</span></span>
<span id="cb4-13"><a href=""></a><span class="do">##   need             361  389</span></span>
<span id="cb4-14"><a href=""></a><span class="co"># Calcul de la moyenne globale/lignes/colonnes/cellules</span></span>
<span id="cb4-15"><a href=""></a>means <span class="ot">&lt;-</span> <span class="fu">model.tables</span>(mod1, <span class="at">type =</span> <span class="st">"means"</span>)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="comparaison-de-modèles" class="slide level2">
<h2>Comparaison de modèles</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href=""></a>car<span class="sc">::</span><span class="fu">Anova</span>(mod1, <span class="at">type =</span> <span class="dv">2</span>)</span>
<span id="cb5-2"><a href=""></a><span class="do">## Anova Table (Type II tests)</span></span>
<span id="cb5-3"><a href=""></a><span class="do">## </span></span>
<span id="cb5-4"><a href=""></a><span class="do">## Response: likelihood</span></span>
<span id="cb5-5"><a href=""></a><span class="do">##                   Sum Sq   Df F value  Pr(&gt;F)    </span></span>
<span id="cb5-6"><a href=""></a><span class="do">## purchase             752    1   98.21 &lt; 2e-16 ***</span></span>
<span id="cb5-7"><a href=""></a><span class="do">## debttype              92    1   12.04 0.00054 ***</span></span>
<span id="cb5-8"><a href=""></a><span class="do">## purchase:debttype     14    1    1.79 0.18171    </span></span>
<span id="cb5-9"><a href=""></a><span class="do">## Residuals          11467 1497                    </span></span>
<span id="cb5-10"><a href=""></a><span class="do">## ---</span></span>
<span id="cb5-11"><a href=""></a><span class="do">## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Dans le tableau, on se concentre uniquement sur la ligne <code>purchase:debttype</code>.</p>
<p>La statistique <span class="math inline">\(F\)</span> vaut 0.28; avec la loi nulle <span class="math inline">\(\mathsf{Fisher}\)</span> (2, 1), la valeur-<span class="math inline">\(p\)</span> est 0.76. Il n’y a pas d’effet du type d’achat sur la dette.</p>
</section>
<section id="effets-principaux-et-marginalisation" class="slide level2">
<h2>Effets principaux et marginalisation</h2>
<p>Les <strong>effets principaux</strong> représentent les moyennes des lignes ou des colonnes.</p>
<p>On les obtient par voie de <em>marginalisation</em>, en prenant la moyenne sur les autres facteurs.</p>
<p>Les effets principaux sont trompeurs s’il y a une interaction.</p>
<p>Par exemple, les effets principaux de <span class="math inline">\(A\)</span> sont:</p>
<div class="cell">
<div class="cell-output-display">
<table class="table caption-top" data-quarto-postprocess="true" style="width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr class="header">
<th style="text-align: center;" data-quarto-table-cell-role="th">\(A\)</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">\(\text{moyenne de ligne}\)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">\(a_1\)</td>
<td style="text-align: center; background-color: rgba(186, 225, 255, 255) !important;">\(\mu_{1.}\)</td>
</tr>
<tr class="even">
<td style="text-align: center;">\(a_2\)</td>
<td style="text-align: center; background-color: rgba(255, 223, 186, 255) !important;">\(\mu_{2.}\)</td>
</tr>
<tr class="odd">
<td style="text-align: center;">\(a_3\)</td>
<td style="text-align: center; background-color: rgba(255, 179, 186, 255) !important;">\(\mu_{3.}\)</td>
</tr>
</tbody>
</table>


</div>
</div>
</section>
<section id="effets-simples" class="slide level2">
<h2>Effets simples</h2>
<p>En présence d’interactions, l’effet de <span class="math inline">\(A\)</span> dépend de la valeur de <span class="math inline">\(B\)</span>.</p>
<p>Les <strong>effets simples</strong> sont des moyennes de cellules dans une ligne ou une colonne donnée.</p>
<div class="cell">
<div class="cell-output-display">
<table class="table caption-top" data-quarto-postprocess="true" style="width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr class="header">
<th style="text-align: center;" data-quarto-table-cell-role="th">\(A\)</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">\(b_1\)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">\(a_1\)</td>
<td style="text-align: center; background-color: rgba(186, 225, 255, 255) !important;">\(\mu_{11}\)</td>
</tr>
<tr class="even">
<td style="text-align: center;">\(a_2\)</td>
<td style="text-align: center; background-color: rgba(255, 223, 186, 255) !important;">\(\mu_{21}\)</td>
</tr>
<tr class="odd">
<td style="text-align: center;">\(a_3\)</td>
<td style="text-align: center; background-color: rgba(255, 179, 186, 255) !important;">\(\mu_{31}\)</td>
</tr>
</tbody>
</table>


</div>
</div>
</section>
<section id="exemple-deffets-principaux" class="slide level2">
<h2>Exemple d’effets principaux</h2>
<p>Puisque l’interaction de l’exemple 1 n’est pas significative, on peut interpréter l’effet principal de <code>debttype</code> et comparer les deux types de dettes (différence de moyenne).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href=""></a><span class="co"># Comparaison entre paires pour le type de dette</span></span>
<span id="cb6-2"><a href=""></a><span class="co"># Effets principaux  (on calcule la moyenne en ignorant "purchase")</span></span>
<span id="cb6-3"><a href=""></a>emmeans<span class="sc">::</span><span class="fu">emmeans</span>(mod1, </span>
<span id="cb6-4"><a href=""></a>                 <span class="co"># 'specs': quelle(s) variable(s) conserver</span></span>
<span id="cb6-5"><a href=""></a>                 <span class="at">specs =</span> <span class="st">"debttype"</span>, </span>
<span id="cb6-6"><a href=""></a>                 <span class="at">contr =</span> <span class="st">"pairwise"</span>)</span>
<span id="cb6-7"><a href=""></a><span class="do">## $emmeans</span></span>
<span id="cb6-8"><a href=""></a><span class="do">##  debttype emmean    SE   df lower.CL upper.CL</span></span>
<span id="cb6-9"><a href=""></a><span class="do">##  credit      5.1 0.101 1497      4.9      5.3</span></span>
<span id="cb6-10"><a href=""></a><span class="do">##  loan        4.6 0.101 1497      4.4      4.8</span></span>
<span id="cb6-11"><a href=""></a><span class="do">## </span></span>
<span id="cb6-12"><a href=""></a><span class="do">## Results are averaged over the levels of: purchase </span></span>
<span id="cb6-13"><a href=""></a><span class="do">## Confidence level used: 0.95 </span></span>
<span id="cb6-14"><a href=""></a><span class="do">## </span></span>
<span id="cb6-15"><a href=""></a><span class="do">## $contrasts</span></span>
<span id="cb6-16"><a href=""></a><span class="do">##  contrast      estimate    SE   df t.ratio p.value</span></span>
<span id="cb6-17"><a href=""></a><span class="do">##  credit - loan      0.5 0.143 1497   3.500  0.0005</span></span>
<span id="cb6-18"><a href=""></a><span class="do">## </span></span>
<span id="cb6-19"><a href=""></a><span class="do">## Results are averaged over the levels of: purchase</span></span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="tableau-danalyse-de-variance-pour-lexemple-2" class="slide level2">
<h2>Tableau d’analyse de variance pour l’exemple 2</h2>
<p>Pour l’ANOVA à <span class="math inline">\(K\)</span> facteurs, nous commençons toujours par estimer le modèle complet avec toutes les interactions possibles (à condition qu’il y ait suffisamment de données pour estimer ces dernières, et donc des répétitions).</p>
<div class="cell">
<div id="tbl-anova-LKUK24" class="cell quarto-float quarto-figure quarto-figure-center">
<figure class="quarto-float quarto-float-tbl">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-anova-LKUK24-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;3: Tableau d’analyse de variance (décomposition de type II) pour l’étude 4 de Lin et al.&nbsp;(2024).
</figcaption>
<div aria-describedby="tbl-anova-LKUK24-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<table class="do-not-create-environment cell caption-top">
<thead>
<tr class="header">
<th style="text-align: left;">terme</th>
<th style="text-align: right;">somme de carrés</th>
<th style="text-align: right;">ddl</th>
<th style="text-align: right;">stat</th>
<th style="text-align: left;">valeur-p</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">politideo</td>
<td style="text-align: right;">48.49</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">21.35</td>
<td style="text-align: left;">&lt;0.001</td>
</tr>
<tr class="even">
<td style="text-align: left;">chefdax</td>
<td style="text-align: right;">473.72</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">208.61</td>
<td style="text-align: left;">&lt;0.001</td>
</tr>
<tr class="odd">
<td style="text-align: left;">brandaction</td>
<td style="text-align: right;">34.24</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">7.54</td>
<td style="text-align: left;">&lt;0.001</td>
</tr>
<tr class="even">
<td style="text-align: left;">politideo:chefdax</td>
<td style="text-align: right;">65.00</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">28.63</td>
<td style="text-align: left;">&lt;0.001</td>
</tr>
<tr class="odd">
<td style="text-align: left;">politideo:brandaction</td>
<td style="text-align: right;">1.56</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">0.34</td>
<td style="text-align: left;">0.71</td>
</tr>
<tr class="even">
<td style="text-align: left;">chefdax:brandaction</td>
<td style="text-align: right;">0.62</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">0.14</td>
<td style="text-align: left;">0.87</td>
</tr>
<tr class="odd">
<td style="text-align: left;">politideo:chefdax:brandaction</td>
<td style="text-align: right;">0.66</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">0.15</td>
<td style="text-align: left;">0.86</td>
</tr>
<tr class="even">
<td style="text-align: left;">Residuals</td>
<td style="text-align: right;">1587.33</td>
<td style="text-align: right;">699</td>
<td style="text-align: right;"></td>
<td style="text-align: left;"></td>
</tr>
</tbody>
</table>
</div>
</div>
</figure>
</div>
</div>
<p>Il n’y a pas d’interaction d’ordre 3, et la seule interaction d’ordre 2 est entre l’idéologie politique et l’ethnicité du Chef Dax. On ne peut pas interpréter la valeur-<span class="math inline">\(p\)</span> de l’effet principal de <code>brandaction</code>, mais on pourrait considérer les moyennes marginales.</p>
</section>
<section id="réduction-de-la-dimension-et-effets-simples" class="slide level2">
<h2>Réduction de la dimension et effets simples</h2>
<p>On réduit le problème à une ANOVA à deux facteurs <span class="math inline">\(2 \times 2\)</span>, en marginalisant sur <code>brandaction</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href=""></a><span class="co"># Moyenne marginales pour idéologie politique/ethnicité</span></span>
<span id="cb7-2"><a href=""></a><span class="co"># On calcule les effets simples de ethnicité, pour chaque idéologie politique</span></span>
<span id="cb7-3"><a href=""></a>(emm2a <span class="ot">&lt;-</span> <span class="fu">emmeans</span>(mod2, </span>
<span id="cb7-4"><a href=""></a>         <span class="at">by =</span> <span class="st">"chefdax"</span>, </span>
<span id="cb7-5"><a href=""></a>         <span class="at">specs =</span> <span class="st">"politideo"</span>))</span>
<span id="cb7-6"><a href=""></a><span class="do">## chefdax = not black:</span></span>
<span id="cb7-7"><a href=""></a><span class="do">##  politideo    emmean    SE  df lower.CL upper.CL</span></span>
<span id="cb7-8"><a href=""></a><span class="do">##  conservative    2.4 0.142 699      2.1      2.7</span></span>
<span id="cb7-9"><a href=""></a><span class="do">##  liberal         3.6 0.097 699      3.4      3.8</span></span>
<span id="cb7-10"><a href=""></a><span class="do">## </span></span>
<span id="cb7-11"><a href=""></a><span class="do">## chefdax = black:</span></span>
<span id="cb7-12"><a href=""></a><span class="do">##  politideo    emmean    SE  df lower.CL upper.CL</span></span>
<span id="cb7-13"><a href=""></a><span class="do">##  conservative    1.7 0.149 699      1.4      2.0</span></span>
<span id="cb7-14"><a href=""></a><span class="do">##  liberal         1.6 0.095 699      1.4      1.8</span></span>
<span id="cb7-15"><a href=""></a><span class="do">## </span></span>
<span id="cb7-16"><a href=""></a><span class="do">## Results are averaged over the levels of: brandaction </span></span>
<span id="cb7-17"><a href=""></a><span class="do">## Confidence level used: 0.95</span></span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="contrastes-deux-à-deux-ethnicité-par-idéologie-politique" class="slide level2">
<h2>Contrastes deux à deux ethnicité par idéologie politique</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href=""></a>emm2a <span class="sc">|&gt;</span> <span class="fu">contrast</span>(<span class="at">method =</span> <span class="st">"pairwise"</span>)</span>
<span id="cb8-2"><a href=""></a><span class="do">## chefdax = not black:</span></span>
<span id="cb8-3"><a href=""></a><span class="do">##  contrast               estimate    SE  df t.ratio p.value</span></span>
<span id="cb8-4"><a href=""></a><span class="do">##  conservative - liberal    -1.22 0.172 699  -7.100  &lt;.0001</span></span>
<span id="cb8-5"><a href=""></a><span class="do">## </span></span>
<span id="cb8-6"><a href=""></a><span class="do">## chefdax = black:</span></span>
<span id="cb8-7"><a href=""></a><span class="do">##  contrast               estimate    SE  df t.ratio p.value</span></span>
<span id="cb8-8"><a href=""></a><span class="do">##  conservative - liberal     0.11 0.177 699   0.600  0.5500</span></span>
<span id="cb8-9"><a href=""></a><span class="do">## </span></span>
<span id="cb8-10"><a href=""></a><span class="do">## Results are averaged over the levels of: brandaction</span></span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Nous constatons que les libéraux sont beaucoup plus susceptibles de considérer le livre de cuisine du chef Dax comme un exemple d’appropriation culturelle s’il n’est pas noir; il y a peu de preuves d’une différence entre les conservateurs et les libéraux lorsque le chef Dax est noir.</p>
<p>On peut calculer les effets marginaux pour idéologie (afro-Américain ou pas). Les deux différences sont statistiquement significatives, mais la différence est beaucoup plus marquée pour les répondants de gauche.</p>
</section>
<section id="comparaison-des-effets-de-la-méthode-dacquisition." class="slide level2">
<h2>Comparaison des effets de la méthode d’acquisition.</h2>
<p>Nous pensons que les participants verront le fait de copier furtivement moins favorablement que si le chef Dax demandait l’autorisation de publier la recette. Il est difficile de connaître l’effet du groupe contrôle, car nous n’omettons cette mention dans ce dernier.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href=""></a><span class="co"># Moyenne marginale de brandaction</span></span>
<span id="cb9-2"><a href=""></a>(emm_brand <span class="ot">&lt;-</span> <span class="fu">emmeans</span>(mod, <span class="at">specs =</span> <span class="fu">c</span>(<span class="st">"brandaction"</span>))) </span>
<span id="cb9-3"><a href=""></a><span class="do">##  brandaction emmean    SE  df lower.CL upper.CL</span></span>
<span id="cb9-4"><a href=""></a><span class="do">##  peeking       2.56 0.108 699     2.35     2.77</span></span>
<span id="cb9-5"><a href=""></a><span class="do">##  permission    2.29 0.105 699     2.09     2.50</span></span>
<span id="cb9-6"><a href=""></a><span class="do">##  control       2.07 0.108 699     1.86     2.28</span></span>
<span id="cb9-7"><a href=""></a><span class="do">## </span></span>
<span id="cb9-8"><a href=""></a><span class="do">## Results are averaged over the levels of: politideo, chefdax </span></span>
<span id="cb9-9"><a href=""></a><span class="do">## Confidence level used: 0.95</span></span>
<span id="cb9-10"><a href=""></a><span class="co"># Test F pour les effets principaux de brandaction</span></span>
<span id="cb9-11"><a href=""></a>emm_brand <span class="sc">|&gt;</span> </span>
<span id="cb9-12"><a href=""></a>  <span class="fu">contrast</span>(<span class="at">method =</span> <span class="st">"pairwise"</span>)<span class="sc">|&gt;</span> </span>
<span id="cb9-13"><a href=""></a>  <span class="fu">joint_tests</span>()</span>
<span id="cb9-14"><a href=""></a><span class="do">##  model term df1 df2 F.ratio p.value</span></span>
<span id="cb9-15"><a href=""></a><span class="do">##  contrast     2 699   5.100  0.0064</span></span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Le test <span class="math inline">\(F\)</span> permet de comparer le modèle avec une moyenne globale pour <code>brandaction</code> vs une par catégorie. Le test indique qu’au moins une des paires est différente des autres.</p>
</section>
<section id="contrastes" class="slide level2">
<h2>Contrastes</h2>
<p>On peut voir une analyse de variance à plusieurs facteurs comme un modèle d’analyse de variance à un facteur possédant <span class="math inline">\(n_a \times n_b \times \cdots\)</span> niveaux, un par sous-groupe.</p>
<p>Les effets marginaux, les interactions et les effets simples sont tous des exemples de contrastes linéaires.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href=""></a>mod <span class="ot">&lt;-</span> <span class="fu">lm</span>(likelihood <span class="sc">~</span> group,</span>
<span id="cb10-2"><a href=""></a>          <span class="at">data =</span> STC21_SS5 <span class="sc">|&gt;</span> </span>
<span id="cb10-3"><a href=""></a>            dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">group =</span> <span class="fu">interaction</span>(debttype, purchase)))</span>
<span id="cb10-4"><a href=""></a><span class="fu">emmeans</span>(mod, <span class="at">specs =</span> <span class="st">"group"</span>) <span class="sc">|&gt;</span></span>
<span id="cb10-5"><a href=""></a>  <span class="fu">contrast</span>(<span class="at">method =</span> <span class="fu">list</span>(<span class="at">main_pairwise =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="sc">-</span><span class="dv">1</span>,<span class="dv">1</span>,<span class="sc">-</span><span class="dv">1</span>)<span class="sc">/</span><span class="dv">2</span>))</span>
<span id="cb10-6"><a href=""></a><span class="do">##  contrast      estimate    SE   df t.ratio p.value</span></span>
<span id="cb10-7"><a href=""></a><span class="do">##  main_pairwise      0.5 0.143 1497   3.500  0.0005</span></span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="récapitulatif-1" class="slide level2">
<h2>Récapitulatif 1</h2>
<ul>
<li>Les interactions se produisent lorsque l’effet d’une variable dépend d’une autre: nous modélisons généralement cela en ajoutant le produit des deux (une ou plusieurs étant catégoriques avec des indicateurs binaires).</li>
<li>Les <strong>diagrammes d’interaction</strong>, qui montrent les moyennes des groupes, sont utiles d’un point de vue conceptuel pour la visualisation, mais des tests formels sont nécessaires.</li>
<li>Les tests statistiques prennent en compte l’élimination des interactions sur la base de l’ajustement du modèle complet (lorsque cela est possible).</li>
<li>Le principe de marginalité implique que nous conservons tous les termes d’ordre inférieur: utiliser les effets de type II.</li>
</ul>
</section>
<section id="récapitulatif-2" class="slide level2">
<h2>Récapitulatif 2</h2>
<ul>
<li>Les modèles d’analyse de la variance sont simplement des modèles de régression linéaire avec des explications catégorielles.</li>
<li>Les modèles avec toutes les interactions correspondent à un modèle où chaque sous-groupe a sa propre moyenne.</li>
<li>Nous comparons les effets principaux (en l’absence d’interactions) ou les effets simples (lorsqu’ils sont présents), ou des contrastes plus généraux, sur la base du modèle complet.</li>
<li>Une ANOVA à plusieurs facteurs peut toujours être considérée comme une ANOVA à un facteur.</li>
</ul>
</section>
<section id="références" class="slide level2 smaller scrollable">
<h2>Références</h2>
<div class="quarto-auto-generated-content">
<p><img src="fig/logo_hec_montreal_bleu_web.png" class="slide-logo"></p>
<div class="footer footer-default">

</div>
</div>
<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-Lin.Kim.Uduehi.Keinan:2024" class="csl-entry" role="listitem">
Lin, Jason D, Nicole You Jeung Kim, Esther Uduehi, et Anat Keinan. 2024. <span>«&nbsp;Culture for Sale: Unpacking Consumer Perceptions of Cultural Appropriation&nbsp;»</span>. <em>Journal of Consumer Research</em>. <a href="https://doi.org/10.1093/jcr/ucad076">https://doi.org/10.1093/jcr/ucad076</a>.
</div>
<div id="ref-Sharma.Tully.Cryder:2021" class="csl-entry" role="listitem">
Sharma, Eesha, Stephanie Tully, et Cynthia Cryder. 2021. <span>«&nbsp;Psychological Ownership of (Borrowed) Money&nbsp;»</span>. <em>Journal of Marketing Research</em> 58 (3): 497‑514. <a href="https://doi.org/10.1177/0022243721993816">https://doi.org/10.1177/0022243721993816</a>.
</div>
</div>
</section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="MATH60604-diapos5a_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="MATH60604-diapos5a_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="MATH60604-diapos5a_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="MATH60604-diapos5a_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="MATH60604-diapos5a_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="MATH60604-diapos5a_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="MATH60604-diapos5a_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="MATH60604-diapos5a_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="MATH60604-diapos5a_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="MATH60604-diapos5a_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': true,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1600,

        height: 900,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const onCopySuccess = function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copié");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copié");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      }
      const getTextToCopy = function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
        text: getTextToCopy
      });
      clipboard.on('success', onCopySuccess);
      if (window.document.getElementById('quarto-embedded-source-code-modal')) {
        // For code content inside modals, clipBoardJS needs to be initialized with a container option
        // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
        const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
          text: getTextToCopy,
          container: window.document.getElementById('quarto-embedded-source-code-modal')
        });
        clipboardModal.on('success', onCopySuccess);
      }
        var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
        var mailtoRegex = new RegExp(/^mailto:/);
          var filterRegex = new RegExp('/' + window.location.host + '/');
        var isInternal = (href) => {
            return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
        }
        // Inspect non-navigation links and adorn them if external
     	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
        for (var i=0; i<links.length; i++) {
          const link = links[i];
          if (!isInternal(link.href)) {
            // undo the damage that might have been done by quarto-nav.js in the case of
            // links that we want to consider external
            if (link.dataset.originalHref !== undefined) {
              link.href = link.dataset.originalHref;
            }
          }
        }
      function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
        const config = {
          allowHTML: true,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start',
        };
        if (contentFn) {
          config.content = contentFn;
        }
        if (onTriggerFn) {
          config.onTrigger = onTriggerFn;
        }
        if (onUntriggerFn) {
          config.onUntrigger = onUntriggerFn;
        }
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note) {
            return note.innerHTML;
          } else {
            return "";
          }
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>